# 安装和测试指南

## 🚀 安装步骤

### 1. 准备插件文件
确保您的插件文件夹包含以下文件：
```
收藏夹整理助手/
├── manifest.json
├── popup.html
├── popup.css
├── popup.js
├── background.js
├── icons/
│   ├── icon16.svg
│   ├── icon48.svg
│   └── icon128.svg
└── README.md
```

### 2. 在Chrome中安装

1. **打开Chrome扩展程序页面**
   - 在地址栏输入：`chrome://extensions/`
   - 或者：菜单 → 更多工具 → 扩展程序

2. **启用开发者模式**
   - 在页面右上角找到「开发者模式」开关
   - 点击开启开发者模式

3. **加载插件**
   - 点击「加载已解压的扩展程序」按钮
   - 选择插件文件夹（`d:\aicode\plugin\001Favorites Organizing Plugin`）
   - 点击「选择文件夹」

4. **验证安装**
   - 插件应该出现在扩展程序列表中
   - 浏览器工具栏应该显示插件图标

### 3. 在Edge中安装

1. **打开Edge扩展程序页面**
   - 在地址栏输入：`edge://extensions/`

2. **启用开发者模式**
   - 在左侧面板找到「开发人员模式」
   - 开启开发人员模式

3. **加载插件**
   - 点击「加载解压缩的扩展」
   - 选择插件文件夹
   - 点击「选择文件夹」

## 🧪 测试步骤

### 1. 基本功能测试

1. **打开插件**
   - 点击浏览器工具栏中的插件图标
   - 应该看到插件弹窗界面

2. **同步收藏夹**
   - 点击「🔄 同步收藏夹」按钮
   - 等待同步完成
   - 检查是否显示收藏夹数量

3. **搜索功能**
   - 在搜索框中输入关键词
   - 验证搜索结果是否正确
   - 检查关键词高亮是否正常

4. **访问网站**
   - 点击任意收藏夹项目
   - 验证是否在新标签页中打开网站

### 2. 错误排查

如果插件无法正常工作，请检查：

1. **控制台错误**
   - 按F12打开开发者工具
   - 查看Console标签页是否有错误信息

2. **权限问题**
   - 确保浏览器已授予收藏夹访问权限
   - 检查插件是否被禁用

3. **文件完整性**
   - 确保所有文件都存在且完整
   - 检查文件路径是否正确

## 🔧 常见问题解决

### 问题1：Service Worker注册失败
**解决方案：**
- 检查background.js文件是否存在
- 确保manifest.json中的路径正确
- 重新加载插件

### 问题2：CSP违规错误
**解决方案：**
- 已在代码中修复所有内联样式和脚本
- 如果仍有问题，请检查是否有其他内联代码

### 问题3：收藏夹无法同步
**解决方案：**
- 确保浏览器有收藏夹数据
- 检查插件权限设置
- 尝试重新安装插件

### 问题4：搜索功能异常
**解决方案：**
- 清除浏览器缓存
- 重新同步收藏夹
- 检查搜索关键词是否正确

## 📝 开发调试

### 查看插件日志
1. 打开 `chrome://extensions/`
2. 找到插件，点击「详细信息」
3. 点击「检查视图」中的「background page」
4. 在控制台中查看日志

### 调试弹窗页面
1. 右键点击插件图标
2. 选择「检查弹出内容」
3. 在开发者工具中调试

## ✅ 验证清单

安装完成后，请验证以下功能：

- [ ] 插件图标正常显示
- [ ] 弹窗界面正常打开
- [ ] 同步按钮工作正常
- [ ] 收藏夹数据正确显示
- [ ] 搜索功能正常
- [ ] 关键词高亮正常
- [ ] 点击链接能正常跳转
- [ ] 网站图标正常显示
- [ ] 文件夹标签正常显示
- [ ] 最后同步时间正确

如果所有项目都正常，恭喜您！插件安装成功！